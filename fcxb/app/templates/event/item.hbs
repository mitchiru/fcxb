<div class="navbar navbar-info">
    <div class="navbar-header">
        {{#link-to 'matches' class="navbar-brand navbar-left"}}
            <i class="mdi-navigation-arrow-back"></i>
            <div class="ripple-wrapper"></div>
        {{/link-to}}
        <span class="navbar-brand navbar-left ellipsis">{{model.name}}</span>

        <a {{action "cancelEventConfirm" model.id}} class="navbar-brand navbar-right"><i class="mdi-notification-sms-failed"></i></a>
        <a {{action "removeEventConfirm" model.id}} class="navbar-brand navbar-right"><i class="mdi-content-remove-circle"></i></a>
    </div>
</div>
<div class="event-detail">
    <div class="jumbotron RemoveDiv">
        <p><i class="mdi-alert-warning"></i> Do you really want to delete this match?</p>
        <a {{action "hideRemoveDiv"}} class="btn btn-default btn-raised">no</a>
        <a {{action "removeEvent" model.id}} class="btn btn-danger btn-raised">Yes, delete</a>
    </div>
    <div class="jumbotron CancelDiv">
        {{#if model.canceled}}
        <p><i class="mdi-alert-warning"></i> Do you really want to uncancel this match?</p>
        <a {{action "hideCancelDiv"}} class="btn btn-default btn-raised">no</a>
        <a {{action "uncancelEvent" model.id}} class="btn btn-danger btn-raised">Yes, uncancel</a>
        {{else}}
            <p><i class="mdi-alert-warning"></i> Do you really want to cancel this match?</p>
            <a {{action "hideCancelDiv"}} class="btn btn-default btn-raised">no</a>
            <a {{action "cancelEvent" model.id}} class="btn btn-danger btn-raised">Yes, cancel</a>
        {{/if}}
    </div>
    <div class="mapsubsitute">

    </div>
    <a href="https://www.google.com/maps/dir/Current+Location/{{model.location}}" target="_new"><img src="https://maps.googleapis.com/maps/api/staticmap?center={{model.location}}&zoom=15&scale=false&size=1000x200&maptype=roadmap&format=png&visual_refresh=true&markers=size:mid%7Ccolor:blue%7Clabel:1%7C{{model.location}}" class="mapimage"></a>
    <div class="well">
        <div class="list-group">
            <div class="list-group-item" {{bind-attr data-canceled=model.canceled}}>
                <div class="row-action-primary row-action-added">
                    <h3><center>{{model.registrations.length}}
                    {{#if isEditingMax}}
                        <span class="h3mini">/
                            {{input id="inputMax" type="number" value=bufferedMax escape-press='cancelEditingMax' focus-out='doneEditingMax' insert-newline='doneEditingMax' placeholder="16" class="form-control" autocomplete="off"}}
                        </span>
                    {{else}}
                        <span class="h3mini" {{action 'startEditingMax'}}>/{{model.max_att}}</span>
                    {{/if}}
                    </center></h3>
                </div>
                <div class="row-content">
                    <div class="least-content">{{model.evdate_dif}}</div>
                    {{#if isEditingName}}
                        {{input value=bufferedName escape-press='cancelEditingName' focus-out='doneEditingName' insert-newline='doneEditingName' placeholder="Name" class="form-control" autocomplete="off"}}
                    {{else}}
                        <h4 class="list-group-item-heading" {{action 'startEditingName'}}>{{model.name}}</h4>
                    {{/if}}
                    <p class="list-group-item-text">{{model.evdate_str}}</p>
                </div>
                <div class="progress">
                    <div {{bind-attr class=model.bar_color style=model.bar_width}}></div>
                    <div class="progress-bar progress-bar-danger" {{bind-attr style=model.overbooked_with}}></div>
                </div>
                {{#if model.canceled}}
                <p class="list-group-item-text">+ + + + + + CANCELED + + + + + </p>
                {{else}}
                <p class="list-group-item-text">{{model.description}}</p>
                {{/if}}


                {{#if model.weather}}
                <table class="weather">
                    <tr>
                        <td class="temp_img"><img src="/icons/Themperature.png"></td>
                        <td class="temperature">{{model.weather_temperature}}Â°</td>
                        <td><img {{bind-attr src=model.weather_icon}}></td>
                        <td class="weatherDescription">{{model.weather}}</td>

                        <!--td class="weatherWindSpeed"><span class="wws_fig">{{model.weather_wind_speed}}</span><span class="wws_text">km/h<br>Wind</span></td>
                        <td class="turf"><img src="/icons/artificialturf.png"></td>
                        <td>Artificial<br>Turf</td>
                        <td class="condIcon"><i class="mdi-action-wallet-membership"></i></td>
                        <td>Only<br>Regulars</td-->
                    </tr>
                </table>
                {{/if}}
            </div>
        </div>


    </div>
    <div id="memberlist" class="list-group">
        {{#if model.canceled}}
        {{else}}
        <div class="list-group-item">
            <div class="row-action-primary row-action-remove-member">
                <a {{action "focusInput"}} class="btn btn-default btn-fab btn-raised mdi-content-add"><div class="ripple-wrapper"></div></a>
            </div>
            <div class="row-content">
                <div class="least-content"></div>
                <h4 class="list-group-item-heading">{{input id="inputAddPlayer" value="" insert-newline='addPlayer' placeholder="Name" class="form-control" autocomplete="off"}}</h4>
            </div>
        </div>
        {{/if}}
        {{#each registrations in sortedList}}
            <div class="list-group-item" {{bind-attr data-registration=registrations.id}}>
                <div class="row-action-primary row-action-remove-member">
                    <a {{action "removeConfirm" registrations.id}} class="btn-removeConfirm btn btn-default btn-fab btn-raised mdi-navigation-check"><div class="ripple-wrapper"></div></a>
                </div>
                <div class="row-action-primary row-action-removed" style="display:none">
                    <a {{action "removePlayer" registrations.id}} class="btn btn-default btn-fab btn-raised mdi-content-remove-circle"><div class="ripple-wrapper"></div></a>
                </div>


                <div class="row-content">
                    <div class="least-content">{{registrations.crdate_dif}}</div>
                    <h4 class="list-group-item-heading removeConfirm" {{action "removeConfirm" registrations.id}}>{{registrations.user}}</h4>
                </div>
            </div>
        {{/each}}
    </div>
</div>
{{outlet 'modal'}}